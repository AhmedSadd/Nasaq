# ๐ Business Requirements Document (BRD)
## Project: Nasaq (ูุณู)
**Version:** 1.3 (Total Control Update)
**Status:** Approved for Development
**Date:** Jan 2026

---

### 1. ๐ ุงูููุฎุต ุงูุชูููุฐู (Executive Summary)
ููุฏู ูุดุฑูุน "Nasaq" ุฅูู ุชุทููุฑ ุจูุฆุฉ ุชุญุฑูุฑ ูุตูุต ูุชุทูุฑุฉ ุชุนูู ุจุงููุงูู ุฏุงุฎู ุงููุชุตูุญ (Web-based IDE for Writing). ูุฑูุฒ ุงููุดุฑูุน ุนูู ุญู ูุดููุฉ ุฌููุฑูุฉ ุชูุงุฌู ุงููุทูุฑูู ููุชุงุจ ุงููุญุชูู ุงูุนุฑุจ: **ุตุนูุจุฉ ูุชุงุจุฉ ูุซุงุฆู ุชูููุฉ ูุฎุชูุทุฉ (ุนุฑุจู/ุฅูุฌููุฒู)** ุจุณูุงุณุฉ.
ูุนุชูุฏ ุงููุธุงู ููุณูุฉ **Local-First**ุ ุญูุซ ูุชู ุงูุชุนุงูู ูุน ูููุงุช ุงููุณุชุฎุฏู ุนูู ุฌูุงุฒู ูุจุงุดุฑุฉ ุฏูู ุฑูุนูุง ูุฃู ุฎุงุฏู ุณุญุงุจู. ุณูุชู ุจูุงุก ุงููุธุงู ููููู ุฎูููุงูุ ูุฏุงุนูุงู ููุนุงููุฑ Markdown ุงูุญุฏูุซุฉุ ูุน ููุญ ุงููุณุชุฎุฏู **ุชุญููุงู ูุทููุงู ูู ุงุชุฌุงู ุงููุต** (ุชููุงุฆู ุฃู ุฅุฌุจุงุฑู) ูุถูุงู ุชุฌุฑุจุฉ ูุชุงุจุฉ ูุซุงููุฉ ููุฎุชูู ุฃููุงุน ุงููุญุชูู.

---

### 2. ๐ฏ ุฃูุฏุงู ุงููุดุฑูุน (Project Objectives)

#### 2.1 ุงูุฃูุฏุงู ุงูุชุฌุงุฑูุฉ (Business Goals)
*   **ุชูููุฑ ุฃุฏุงุฉ ุงุญุชุฑุงููุฉ ูุฑูุฉ:** ุชูุฏูู ุจุฏูู ููู ููุญุฑุฑุงุช ุงููุตูุต ุงูุชูููุฏูุฉ ูุฌูุน ุจูู ุฐูุงุก ุงูุชูุฌูู ุงูุชููุงุฆู ูุงูุชุญูู ุงููุฏูู ุงูุตุงุฑู.
*   **ุฏุนู ุงููุญุชูู ุงูุชููู ูุงูุฃุฏุจู:** ุชูุจูุฉ ุงุญุชูุงุฌุงุช ุงููุทูุฑ (ููุฏ ูุฎุชูุท) ูุงููุงุชุจ ุงูุฃุฏุจู (ูุต ุนุฑุจู ุฎุงูุต) ูู ุขู ูุงุญุฏ.
*   **ุตูุฑ ุชูููุฉ ุชุดุบูููุฉ (Zero OpEx):** ุชุตููู ุงููุธุงู ููุนูู ููููุงุช ุซุงุจุชุฉ (Static Assets) ูุง ุชุชุทูุจ ุฎูุงุฏู ุฎูููุฉ.

#### 2.2 ูุคุดุฑุงุช ุงููุฌุงุญ (Success Metrics - KPIs)
*   **ุงูุฃุฏุงุก:** ุฒูู ุชุญููู ุงูุชุทุจูู ุฃูู ูู **1.5 ุซุงููุฉ**.
*   **ุงูุงุณุชุฌุงุจุฉ:** ุชุฃุฎูุฑ ุงููุชุงุจุฉ ุฃูู ูู **16ms**.
*   **ุงูููุซูููุฉ:** ุตูุฑ ุญุงูุงุช ููุฏุงู ุจูุงูุงุชุ ูุนุฑุถ ุงูุตูุฑ ุงููุญููุฉ ุจูุฌุงุญ ุจูุณุจุฉ 100%.

---

### 3. ๐ฅ ุฃุตุญุงุจ ุงููุตูุญุฉ (Stakeholders)

| ุงูุฏูุฑ (Role) | ุงููุตู (Description) | ุงููุณุคูููุงุช (Responsibilities) |
| :--- | :--- | :--- |
| **ูุงูู ุงูููุชุฌ (Product Owner)** | ุงูุฌูุฉ ุตุงุญุจุฉ ุงูุฑุคูุฉ. | ุงุนุชูุงุฏ ุงููุชุทูุจุงุชุ ููุฑุงุฌุนุฉ ูุฑููุฉ ุฃุฏูุงุช ุงูุชุญูู. |
| **ุงููุณุชุฎุฏู ุงูููุงุฆู (End User)** | ูุทูุฑ / ูุงุชุจ. | ุงุณุชุฎุฏุงู ุงููุธุงู ููุชุงุจุฉ ุงููุญุชูู ุจูุถุนูุงุช ุชูุฌูู ูุฎุชููุฉ. |
| **ูุฑูู ุงูุชุทููุฑ (Dev Team)** | ูููุฏุณู ุงููุงุฌูุงุช (Frontend). | ุชูููุฐ ููุทู ุงูุชูุฌูู (RTL Logic) ูุฎูุงุฑุงุช ุงูุฅุนุฏุงุฏุงุช ุจุฏูุฉ. |

---

### 4. ๐ฆ ูุทุงู ุงูุนูู (Scope of Work)

ูุญุฏุฏ ูุฐุง ุงููุณู ุงูููุฒุงุช ุงููุดูููุฉ ูู ุงูุฅุตุฏุงุฑ ุงูุฃูู (MVP).

#### 4.1 ุฏุงุฎู ุงููุทุงู (In-Scope)
1.  **ุฅุฏุงุฑุฉ ุงููููุงุช ุงููุญููุฉ (Local File Management):**
    *   ูุชุญ ูุฌูุฏุงุช ูุงููุฉ (Open Directory) ูุนุฑุถ ุดุฌุฑุฉ ุงููููุงุช.
    *   ุนูููุงุช CRUD: ูุฑุงุกุฉุ ุชุนุฏููุ ุฅูุดุงุกุ ุญุฐูุ ูุฅุนุงุฏุฉ ุงูุชุณููุฉ.
    *   ุงูุญูุธ ุงููุจุงุดุฑ ุนูู ุงููุฑุต (Native Save).
2.  **ุงููุญุฑุฑ ูุงูุชุญูู ูู ุงููุต (Editor & Text Control):**
    *   ุฏุนู Markdown ุงููุงูู (GFM).
    *   **ูุธุงู ุงูุชูุฌูู ุงููุชูุฏู (Advanced Direction System):** ุฏุนู ุฃูุถุงุน (Auto / RTL / LTR).
    *   ุจุญุซ ูุงุณุชุจุฏุงู (Search & Replace).
    *   ูุถุน ุงูุชุฑููุฒ (Zen Mode).
3.  **ุงููุนุงููุฉ ุงููุชูุฏูุฉ (Advanced Preview):**
    *   ุนุฑุถ ุญู (Live Render).
    *   ุฏุนู ูุฎุทุทุงุช Mermaid.
    *   **ุฏุนู ุงูุตูุฑ ุงููุญููุฉ (Local Images):** ุนุฑุถ ุงูุตูุฑ ุจูุณุงุฑุงุช ูุณุจูุฉ ุฏุงุฎู ุงููุฌูุฏ.
    *   ูุงุฌูุฉ ูุงุจูุฉ ูุชุบููุฑ ุงูุญุฌู (Resizable Split Pane).
4.  **ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู (UX):**
    *   **ุงูุชุฎุทูุท ุงูุงูุชุฑุงุถู:** ุงููุญุฑุฑ ูุณุงุฑุงูุ ุงููุนุงููุฉ ููููุงู.
    *   ุงููุถุน ุงููููู (Dark Mode).
    *   **ุญูุธ ุงูุชูุถููุงุช:** ุญูุธ ูุถุน ุงูุชูุฌูู ุงูููุถู ูููุณุชุฎุฏู.
    *   ุญูุงูุฉ ุงูุจูุงูุงุช ุบูุฑ ุงููุญููุธุฉ.

#### 4.2 ุฎุงุฑุฌ ุงููุทุงู (Out-of-Scope)
*   ุงูุชุฎุฒูู ุงูุณุญุงุจู.
*   ูุธุงู ุงูุฅุถุงูุงุช.
*   ุชุตุฏูุฑ ุงููููุงุช PDF.

---

### 5. โ๏ธ ุงููุชุทูุจุงุช ุงููุธูููุฉ (Functional Requirements)

#### ๐ ุฃ. ูุธุงู ุงููููุงุช (File System)
*   **[FR-FS-01] ุงููุตูู ูููุฌูุฏุงุช:** ุงุณุชุฎุฏุงู `File System Access API`.
*   **[FR-FS-02] ุดุฌุฑุฉ ุงููููุงุช:** ุนุฑุถ ููููู ูููููุงุช ูุน ุฃููููุงุช.
*   **[FR-FS-03] ุงูุชูุงูููุฉ:** ุฏุนู ูุถุน ุงูุชูุฒูู (Fallback) ูููุชุตูุญุงุช ุบูุฑ ุงูุฏุงุนูุฉ.

#### ๐ ุจ. ุงููุญุฑุฑ (The Editor)
*   **[FR-ED-01] ุฅุฏุงุฑุฉ ุงุชุฌุงู ุงููุต (Text Direction Management):**
    *   ูุฌุจ ุฃู ูููุฑ ุงููุธุงู ุซูุงุซุฉ ุฃูุถุงุน ูุงุชุฌุงู ุงููุต ูุงุจูุฉ ููุชุจุฏูู:
        1.  **ุชููุงุฆู (Auto):** ุงูุชุดุงู ุงูุงุชุฌุงู ููู ุณุทุฑ ุนูู ุญุฏุฉ (Per-line) ุจูุงุกู ุนูู ุฃูู ุญุฑู ููู (ุงููุถุน ุงูุงูุชุฑุงุถู ููููุฏ ุงููุฎุชูุท).
        2.  **ูููู (Forced RTL):** ุฅุฌุจุงุฑ ุงููุซููุฉ ุจุงููุงูู ูุชููู ูู ุงููููู ูููุณุงุฑ (ููููุงูุงุช ุงูุนุฑุจูุฉ).
        3.  **ูุณุงุฑ (Forced LTR):** ุฅุฌุจุงุฑ ุงููุซููุฉ ุจุงููุงูู ูุชููู ูู ุงููุณุงุฑ ูููููู (ููููุฏ ุงูุฅูุฌููุฒู).
    *   ูุฌุจ ุชูููุฑ **ุฒุฑ ุชุจุฏูู ุณุฑูุน (Toggle Switch)** ูู ุดุฑูุท ุงูุฃุฏูุงุช ุงูุนููู ููุชุญููู ุงูููุฑู ุจูู ูุฐู ุงูุฃูุถุงุน.
    *   ูุฌุจ ุชูููุฑ ุฎูุงุฑ ูู **ููุญุฉ ุงูุฅุนุฏุงุฏุงุช** ูุชุญุฏูุฏ ุงููุถุน ุงูุงูุชุฑุงุถู ุนูุฏ ูุชุญ ุฃู ููู ุฌุฏูุฏ (ูุซูุงู: ูุงุชุจ ุงูุฑูุงูุงุช ูุถุจุทู ุฏุงุฆูุงู RTL).
*   **[FR-ED-02] ุชูููู ุงูุฃููุงุฏ:** ุฏุนู Syntax Highlighting.

#### ๐๏ธ ุฌ. ุงููุนุงููุฉ ูุงููุณุงุฆุท (Preview & Media)
*   **[FR-PR-01] ุงูุฑุณูู ุงูุจูุงููุฉ:** ุชุญููู ูุชู `mermaid` ุฅูู ุฑุณูู.
*   **[FR-PR-02] ุงูุตูุฑ ุงููุญููุฉ:** ูุนุงูุฌุฉ ุงููุณุงุฑุงุช ุงููุณุจูุฉ ููุตูุฑ ูุนุฑุถูุง ุจุงุณุชุฎุฏุงู `Blob URLs`.
*   **[FR-PR-03] ุงูุชุนููู:** ุชูุธูู HTML ูููุน XSS.

#### ๐ฅ๏ธ ุฏ. ุชุฎุทูุท ุงููุงุฌูุฉ (Interface Layout)
*   **[FR-UI-01] ุงูุชุฎุทูุท ุงูููุงุณู:** ุงููุญุฑุฑ ูู ุงููุณุงุฑ ูุงููุนุงููุฉ ูู ุงููููู ุงูุชุฑุงุถูุงูุ ูุน ูุงุตู ูุงุจู ููุณุญุจ.

---

### 6. ๐ก๏ธ ููุงุนุฏ ุงูุนูู ูุงููููุฏ (Business Rules)

*   **[BR-01] ุงูุฎุตูุตูุฉ:** ุงููุนุงูุฌุฉ 100% Client-Side.
*   **[BR-02] ุณูุงูุฉ ุงูุจูุงูุงุช:** ููุน ุงูุฅุบูุงู ุฏูู ุญูุธ.
*   **[BR-03] ุจูุฆุฉ ุงูุชุดุบูู:** ุณุทุญ ุงูููุชุจ (Desktop First).
*   **[BR-04] ุงูุชูููุฉ:** React + Vite + CodeMirror 6.

---

### 7. ๐ฆ ุงููุชุทูุจุงุช ุบูุฑ ุงููุธูููุฉ (NFRs)

*   **[NFR-PERF-01]** ุงูุชุนุงูู ูุน ูููุงุช ูุจูุฑุฉ ุฏูู ุชูููุฌ.
*   **[NFR-USAB-01]** ุฏุนู ุงูุชููู ุนุจุฑ ููุญุฉ ุงูููุงุชูุญ.
*   **[NFR-UX-01]** ุงูุชุจุฏูู ุจูู ุฃูุถุงุน ุงูุชูุฌูู (Auto/RTL/LTR) ูุฌุจ ุฃู ูููู ููุฑูุงู ููุง ูุชุทูุจ ุฅุนุงุฏุฉ ุชุญููู ุงูุตูุญุฉ.

---

### 8. ๐ ุณููุงุฑูููุงุช ุงููุณุชุฎุฏู ุงูุฑุฆูุณูุฉ (Key User Scenarios)

1.  **ุณููุงุฑูู "ุงูููุงู ุงูุฃุฏุจู ุงูุนุฑุจู":**
    *   ูุงุชุจ ููุชุญ ุงูููู ูููุชุจ ูุตุฉ ูุตูุฑุฉ.
    *   ููุงุญุธ ุฃู ุจุนุถ ุนูุงูุงุช ุงูุชุฑููู ุชุธูุฑ ุจุดูู ุฎุงุทุฆ ูุฃููุง ูู ูุถุน Auto.
    *   ูุฎุชุงุฑ ูุถุน **"Forced RTL"** ูู ุดุฑูุท ุงูุฃุฏูุงุช.
    *   ุชุณุชููู ูู ุงูููุฑุงุช ูุนูุงูุงุช ุงูุชุฑููู ูููููู ููุฑุงู.
    *   ูุญูุธ ุงูุฅุนุฏุงุฏ ููููู ุงูุงูุชุฑุงุถู ููููุงุชู ุงููุงุฏูุฉ.

2.  **ุณููุงุฑูู "ุงูุชูุซูู ุงููุฎุชูุท":**
    *   ูุทูุฑ ููุชุจ ุดุฑุญุงู ูููุชุจุฉ ุจุฑูุฌูุฉ.
    *   ูุฎุชุงุฑ ูุถุน **"Auto"**.
    *   ููุชุจ ููุฑุฉ ุนุฑุจูุฉ (ุชุฐูุจ ูููู)ุ ุซู ููุชุจ ููุฏ `npm install` (ูุฐูุจ ูุณุงุฑ).
    *   ูุฏุฑุฌ ุตูุฑุฉ ูู ุฌูุงุฒูุ ูุชุธูุฑ ูู ุงููุนุงููุฉ.

---

### 9. โ ูุนุงููุฑ ุงููุจูู ุงูููุงุฆูุฉ (Final Acceptance Criteria)

ูุชู ูุจูู ุงููุดุฑูุน ูุงุนุชุจุงุฑู ูุงุฌุญุงู ุนูุฏ:
1.  ูุฌูุฏ ุฒุฑ ูู ุงููุงุฌูุฉ ูุณูุญ ุจุงูุชุจุฏูู ุจูู Auto, RTL, LTR ููุนูู ุจุดูู ุตุญูุญ.
2.  ุญูุธ ุชูุถูู ุงููุณุชุฎุฏู ูุงุชุฌุงู ุงููุต ูู ุงูุชุฎุฒูู ุงููุญูู (Local Storage).
3.  ูุฌุงุญ ุนุฑุถ ุงูุตูุฑ ุงููุญููุฉ.
4.  ุงูุชุทุจูู ูุญูู ูุนุงููุฑ ุงูุฃุฏุงุก ูุงูุฃูุงู ุงููุฐููุฑุฉ.